import{u as j,j as e,R as w,r as f}from"./index-445d451c.js";import{B as n}from"./Button-025164e3.js";import{u as b}from"./index.esm-cbc7b0be.js";const d={email:"eve.holt@reqres.in",password:"cityslicka"},R=()=>{var t,l;const{isLoggedIn:m,login:a}=j();if(m)return e.jsx(w,{to:"/home"});const{reset:p,setError:i,register:o,handleSubmit:c,formState:{errors:r,isSubmitting:u}}=b({reValidateMode:"onChange",defaultValues:d}),g=({email:s,password:x})=>a({email:s,password:x}),h=()=>p(d);return f.useEffect(()=>{if(!a.isError)return;const s="incorrect login user";i("email",{type:"server",message:s}),i("password",{type:"server",message:s})},[a.isError]),e.jsxs(e.Fragment,{children:[e.jsx("p",{children:"Log into React boilerplate"}),e.jsxs("form",{onSubmit:c(g),children:[e.jsx("label",{htmlFor:"email",children:"email"}),e.jsx("input",{type:"email",placeholder:"email",id:"email","aria-errormessage":"erroremail","aria-invalid":!!r.email,...o("email",{required:!0})}),e.jsx("span",{id:"erroremail",className:"errormessage",children:((t=r.email)==null?void 0:t.message)||"email is required"}),e.jsx("label",{htmlFor:"password",children:"password"}),e.jsx("input",{type:"password",placeholder:"password",id:"password","aria-errormessage":"errorpassword","aria-invalid":!!r.password,...o("password",{required:!0})}),e.jsx("span",{id:"errorpassword",className:"errormessage",children:((l=r.password)==null?void 0:l.message)||"password is required"}),e.jsxs("div",{style:{marginTop:"0.5rem",display:"grid",gridTemplateColumns:"repeat(2, 1fr)",columnGap:"10px"},children:[e.jsx(n,{backgroundColor:"#D9D9D9",onClick:h,children:"Reset login user"}),e.jsx(n,{type:"submit",children:u?"Loading...":"Login"})]})]})]})};export{R as default};
